plugins {
    id 'java'
}

java {
    sourceCompatibility = JavaVersion.VERSION_11
}

version '1.0-SNAPSHOT'
project.buildDir = '/build'

sourceSets {
    main {
        java {
            srcDir 'src/'
        }
        resources {
            srcDirs = ['resources/', 'src-js/']
        }
    }
    test {
        java {
            srcDir 'src-test/'
        }
        resources {
            srcDirs = ['test-resources/', 'benchmarks/']
        }
    }
}

repositories {
    mavenCentral()
}

dependencies {

    // Logging
    implementation group: 'org.apache.logging.log4j', name: 'log4j-slf4j18-impl', version: '2.14.0'

    // Utils
    implementation group: 'commons-io', name: 'commons-io', version: '2.6'
    implementation group: 'org.apache.commons', name: 'commons-text', version: '1.9'

    implementation group: 'org.eclipse.jgit', name: 'org.eclipse.jgit', version: '5.6.0.201912101111-r'
    implementation group: 'com.jsoniter', name: 'jsoniter', version: '0.9.23'
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.12.2'
    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: '2.12.2'

    // For Testing
    testImplementation 'org.junit.jupiter:junit-jupiter:5.6.3'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'

    // Compiler
    implementation group: 'com.google.javascript', name: 'closure-compiler', version: 'v20210302'
    implementation fileTree(dir: 'libs', include: ['*.jar'])
}

test {
    useJUnitPlatform()
}
